<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
function TreeNode(x) {
    this.val = x;
    this.left = null;
    this.right = null;
} 
function reConstructBinaryTree(pre, vin)
{
  if(pre.length==1){
    var node=new TreeNode(pre[0]);
    return node;
  }
  var node=new TreeNode(pre[0]);
  var index=vin.indexOf(pre[0]);
  var left_vin=vin.slice(0,index)
  var right_vin=vin.slice(index+1)

  var left_pre=pre.filter(function(ele){
    return left_vin.indexOf(ele)!=-1
  });
   var right_pre=pre.filter(function(ele){
    return right_vin.indexOf(ele)!=-1
  });
  
  if(left_pre.length!=0){
    node.left=reConstructBinaryTree(left_pre,left_vin);
  }
   if(right_pre.length!=0){
    node.right=reConstructBinaryTree(right_pre,right_vin);
   }
  return node;
  
}
var a=[1,2,4,7,3,5,6,8];
var b=[4,7,2,1,5,3,8,6];

console.log(reConstructBinaryTree(a,b))
// var aa=a.slice(9)
// console.log(aa)
// var bb=b.filter(function(ele){
//   console.log(aa.indexOf(ele))
//   return aa.indexOf(ele)>=0
// })
// console.log(bb)
</script>
</html>